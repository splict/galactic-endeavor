
<!doctype html>
<html>
<head>
<title></title>

<style>

</style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.4.3/pixi.min.js"></script>

<script>
var app = new PIXI.Application()
    
renderSize = (w, h) => {
    app.renderer.view.width = w + 'px'
    app.renderer.view.height = h + 'px' 
    app.renderer.resize(w,h)
}

document.body.appendChild(app.view)

PIXI.loader
    .add('llama', '../assets/img/llama.png')
    .load(function(loader, resources) {
        renderSize(400, 400)

        let llama = new PIXI.Sprite(resources.llama.texture)
        Object.assign(llama, {
            anchor: {
                x: 0.5,
                y: 0.5,
            },
            x: 200,
            y: 200,
            width: 50,
            height: 50,
            interactive: true,
            click: function(ev) {
                console.log('llama', ev)
            },
        })

        let test = new PIXI.Container()
        Object.assign(test, {
            x: 0,
            y: 0,
            width: 200,
            height: 200,
            hitArea: new PIXI.Rectangle(0, 0, 200, 200),
            interactive: true,
            click: function(ev) {
                console.log('test', ev)
            },
            zOrder: 2,
            zIndex: 2,
        })
        test.addChild(llama)
    
        let test2 = new PIXI.Container();
        (() => {
            let x = 0
            let y = 0
            let w = app.renderer.view.width
            let h = app.renderer.view.height

            Object.assign(test2, {
                x,
                y,
                width: w,
                height: h,
                hitArea: new PIXI.Rectangle(x, y, w, h),
                interactive: true,
                click: function(ev) {
                    console.log('root', ev)
                    llama.x = ev.data.global.x
                    llama.y = ev.data.global.y
                },
                zOrder: 1,
                zIndex: 1,
            })
        })()
    
        test2.addChild(test)
        app.stage.addChild(test2)


        app.ticker.add(function() {
            llama.rotation += 0.01
        })
    })

</script>
</body>
</html>
